/*=================================
 Toggle
=================================*/
var SAToggleHandler = function($scope, $) {
	var toggle_elem = $scope.find(".sa-el-toggle-container").eq(0);
	$(toggle_elem).each(function() {
		var $toggle_target = $(this).data("toggle-target");
		var $toggle_switch = $($toggle_target).find(".sa-el-toggle-switch");
		$($toggle_target)
			.find(".sa-el-primary-toggle-label")
			.addClass("active");
		$($toggle_switch).toggle(
			function() {
				var $parent_container = $(this).closest(
					".sa-el-toggle-container"
				);
				$($parent_container)
					.find(".sa-el-toggle-content-wrap")
					.removeClass("primary");
				$($parent_container)
					.children(".sa-el-toggle-content-wrap")
					.addClass("secondary");
				$($parent_container)
					.find(".sa-el-toggle-switch-container")
					.addClass("sa-el-toggle-switch-on");
				$(this)
					.parent()
					.parent()
					.find(".sa-el-primary-toggle-label")
					.removeClass("active");
				$(this).parent().parent().find(".sa-el-secondary-toggle-label").addClass("active");
			},
			function() {
				var $parent_container = $(this).closest(
					".sa-el-toggle-container"
				);
				$($parent_container)
					.children(".sa-el-toggle-content-wrap")
					.addClass("primary");
				$($parent_container)
					.children(".sa-el-toggle-content-wrap")
					.removeClass("secondary");
				$($parent_container)
					.find(".sa-el-toggle-switch-container")
					.removeClass("sa-el-toggle-switch-on");
				$(this)
					.parent()
					.parent()
					.find(".sa-el-primary-toggle-label")
					.addClass("active");
				$(this)
					.parent()
					.parent()
					.find(".sa-el-secondary-toggle-label")
					.removeClass("active");
			}
		);
	});
};

jQuery(window).on("elementor/frontend/init", function() {
	elementorFrontend.hooks.addAction(
		"frontend/element_ready/sa-el-toggle.default",
		SAToggleHandler
	);
});
