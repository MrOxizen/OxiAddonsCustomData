! function($) {
    $.fn.saelProgressBar = function() {
        var a = $(this),
            i = a.data("layout"),
            e = a.data("count"),
            r = a.data("duration");
        a.one("inview", function() {
            "line" == i ? $(".sa-el-progressbar-line-fill", a).css({ width: e + "%" }) : "half_circle" == i && $(".sa-el-progressbar-circle-half", a).css({ transform: "rotate(" + 1.8 * e + "deg)" }), $(".sa-el-progressbar-count", a).prop({ counter: 0 }).animate({ counter: e }, {
                duration: r,
                easing: "linear",
                step: function(e) {
                    if ("circle" == i) {
                        var r = 3.6 * e;
                        $(".sa-el-progressbar-circle-half-left", a).css({ transform: "rotate(" + r + "deg)" }), 180 < r && ($(".sa-el-progressbar-circle-pie", a).css({ "clip-path": "inset(0)" }), $(".sa-el-progressbar-circle-half-right", a).css({ visibility: "visible" }))
                    }
                    $(this).text(Math.ceil(e))
                }
            });
            if (i == 'line' || i == 'line_rainbow') {
                $('.sa-el-progressbar-line-fill', a).css({
                    'width': e + '%',
                })
            } else if (i == 'half_circle' || i == 'half_circle_fill') {
                $('.sa-el-progressbar-circle-half', a).css({
                    'transform': 'rotate(' + (e * 1.8) + 'deg)',
                })
            } else if (i == 'box') {
                $('.sa-el-progressbar-box-fill', a).css({
                    'height': e + '%',
                })
            }

            $('.sa-el-progressbar-count', a).prop({
                'counter': 0
            }).animate({
                counter: e
            }, {
                duration: r,
                easing: 'linear',
                step: function(counter) {
                    if (i == 'circle' || i == 'circle_fill') {
                        var rotate = (counter * 3.6);
                        $('.sa-el-progressbar-circle-half-left', a).css({
                            'transform': "rotate(" + rotate + "deg)",
                        });
                        if (rotate > 180) {
                            $('.sa-el-progressbar-circle-pie', a).css({
                                'clip-path': 'inset(0)'
                            });
                            $('.sa-el-progressbar-circle-half-right', a).css({
                                'visibility': 'visible'
                            });
                        }
                    }

                    $(this).text(Math.ceil(counter));
                }
            })
        });

    }
}(jQuery);